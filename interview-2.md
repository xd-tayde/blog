# (ä¸­)ä¸­é«˜çº§å‰ç«¯å¤§å‚é¢è¯•ç§˜ç±ï¼Œå¯’å†¬ä¸­ä¸ºæ‚¨ä¿é©¾æŠ¤èˆªï¼Œç›´é€šå¤§å‚

> æ„Ÿæ©!~~æ²¡æƒ³åˆ°ä¸Šç¯‡æ–‡ç« èƒ½è¿™ä¹ˆå—å¤§å®¶çš„å–œæ¬¢ï¼Œæ¿€åŠ¨ä¸å·²ã€‚ğŸ¤©ã€‚ä½†æ˜¯å´ä¹Ÿæ˜¯è¯šæƒ¶è¯šæï¼Œè¿™ä¹Ÿæ„å‘³ç€è´£ä»»ã€‚ä¸‹ç¯‡è®¸å¤šçŸ¥è¯†ç‚¹éƒ½éœ€è¦æ¯”è¾ƒæ·±å…¥çš„ç ”ç©¶å’Œç†è§£ï¼Œåšä¸»ä¹Ÿæ˜¯æ°´å¹³æœ‰é™ï¼Œæ‹…å¿ƒè‡ªå·±æ— æ³•æ‰¿æ‹…å¤§å®¶çš„æœŸå¾…ã€‚ä¸è¿‡ç»ˆç©¶è¿˜æ˜¯éœ€è¦æ‘†æ­£å¿ƒæ€ï¼Œæ”¾ä¸‹æƒ…ç»ªï¼Œä¸€å­—ä¸€å­—ç”¨å¿ƒä¸“æ³¨ï¼Œä¸è´Ÿè‡ªå·±ï¼Œä¹Ÿä¸è´Ÿç¤¾åŒºã€‚ä¸å„ä½å°ä¼™ä¼´ç›¸äº’å­¦ä¹ ï¼Œå…±åŒæˆé•¿ï¼Œä»¥æ­¤å…±å‹‰ï¼
> 
> æœ€è¿‘ä¸šåŠ¡ç¹å¿™ï¼Œç²¾åŠ›æœ‰é™ï¼Œè™½ç„¶æˆ‘å°½é‡ä¸¥è°¨å’Œåå¤ä¿®è®¢ï¼Œä½†æ–‡ç« ä¹Ÿå®šæœ‰ç–æ¼ã€‚ä¸Šç¯‡æ–‡ç« ä¸­ï¼Œè®¸å¤šå°ä¼™ä¼´ä»¬æŒ‡å‡ºäº†ä¸å°‘çš„é—®é¢˜ï¼Œä¸ºæ­¤æˆ‘ä¹Ÿæ˜¯æ·±è¡¨æŠ±æ­‰ï¼Œæˆ‘ä¹Ÿä¼šè™šå¿ƒæ¥å—å’Œçº æ­£é”™è¯¯ã€‚ä¹Ÿéå¸¸æ„Ÿæ¿€é‚£ä¹ˆå¤šé€šè¿‡å¾®ä¿¡æˆ–å…¬ä¼—å·ä¸æˆ‘æ¢è®¨çš„å°ä¼™ä¼´ï¼Œæ„Ÿè°¢å¤§å®¶çš„æ”¯æŒå’Œé¼“åŠ±ã€‚

## å¼•è¨€

å¤§å®¶çŸ¥é“ï¼ŒReact ç°åœ¨å·²ç»åœ¨å‰ç«¯å¼€å‘ä¸­å æ®äº†ä¸»å¯¼çš„åœ°ä½ã€‚ä¼˜å¼‚çš„æ€§èƒ½ï¼Œå¼ºå¤§çš„ç”Ÿæ€ï¼Œè®©å…¶æ— æ³•é˜»æŒ¡ã€‚åšä¸»é¢çš„ 5 å®¶å…¬å¸ï¼Œå…¨éƒ¨æ˜¯ React æŠ€æœ¯æ ˆã€‚æ®æˆ‘æ‰€çŸ¥ï¼Œå¤§å‚ä¹Ÿå¤§éƒ¨åˆ†ä»¥ React ä½œä¸ºä¸»æŠ€æœ¯æ ˆã€‚React ä¹Ÿæˆä¸ºäº†é¢è¯•ä¸­å¹¶ä¸å¯å°‘çš„ä¸€ç¯ã€‚

ä¸­ç¯‡ä¸»è¦ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å¯¹ React å±•å¼€é˜è¿°:

- [Fiber](#1)
- [ç”Ÿå‘½å‘¨æœŸ](#2)
- [SetState](#3)
- [HOC(é«˜é˜¶ç»„ä»¶)](#4)
- [Redux](#5)
- [React Hooks](#6)
- [SSR](#7)
- [å‡½æ•°å¼ç¼–ç¨‹](#8)

> æœ¬æ¥æ˜¯è®¡åˆ’åªæœ‰ä¸Šä¸‹ä¸¤ç¯‡ï¼Œå¯æ˜¯å†™ç€å†™ç€è¶Šå†™è¶Šå¤šï¼Œå—é™äºç¯‡å¹…ï¼Œä¹Ÿä¸ºäº†æœ‰æ›´å¥½çš„é˜…è¯»ä½“éªŒï¼Œåªå¥½æ‹†åˆ†å‡ºä¸­ç¯‡ï¼Œå¸Œæœ›å„ä½ç«¥é‹åˆ«ä»‹æ„ã€‚ğŸ™ƒï¼Œå¦å¤–ï¼Œä¸‹ç¯‡è¿˜æœ‰ Hybrid App / Webpack / æ€§èƒ½ä¼˜åŒ– / Nginx ç­‰æ–¹é¢çš„çŸ¥è¯†ï¼Œæ•¬è¯·æœŸå¾…ã€‚
> 
> å»ºè®®è¿˜æ˜¯å…ˆä»ä¸Šç¯‡åŸºç¡€å¼€å§‹å“ˆ~æœ‰ä¸ªå¾ªåºæ¸è¿›çš„è¿‡ç¨‹: 

- [é¢è¯•ä¸Šç¯‡](https://github.com/xd-tayde/blog/blob/master/interview-1.md)ã€‚
- [é¢è¯•ä¸‹ç¯‡](https://github.com/xd-tayde/blog/blob/master/interview-3.md);

## è¿›é˜¶çŸ¥è¯†

## æ¡†æ¶: React

React ä¹Ÿæ˜¯ç°å¦‚ä»Šæœ€æµè¡Œçš„å‰ç«¯æ¡†æ¶ï¼Œä¹Ÿæ˜¯å¾ˆå¤šå¤§å‚é¢è¯•å¿…å¤‡ã€‚React ä¸ Vue è™½æœ‰ä¸åŒï¼Œä½†åŒæ ·ä½œä¸ºä¸€æ¬¾  UI æ¡†æ¶ï¼Œè™½ç„¶å®ç°å¯èƒ½ä¸ä¸€æ ·ï¼Œä½†åœ¨ä¸€äº›ç†å¿µä¸Šè¿˜æ˜¯æœ‰ç›¸ä¼¼çš„ï¼Œä¾‹å¦‚æ•°æ®é©±åŠ¨ã€ç»„ä»¶åŒ–ã€è™šæ‹Ÿ dom ç­‰ã€‚è¿™é‡Œå°±ä¸»è¦åˆ—ä¸¾ä¸€äº› React ä¸­ç‹¬æœ‰çš„æ¦‚å¿µã€‚

<h3 id="1">1. Fiber</h3>

React çš„æ ¸å¿ƒæµç¨‹å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†: 

- reconciliation (**è°ƒåº¦ç®—æ³•**ï¼Œä¹Ÿå¯ç§°ä¸º render):
	- æ›´æ–° state ä¸ propsï¼›
	- è°ƒç”¨ç”Ÿå‘½å‘¨æœŸé’©å­ï¼›
	- ç”Ÿæˆ virtual domï¼›
	- é€šè¿‡æ–°æ—§ vdom è¿›è¡Œ diff ç®—æ³•ï¼Œè·å– vdom changeï¼›
	- ç¡®å®šæ˜¯å¦éœ€è¦é‡æ–°æ¸²æŸ“
- commit:
	- å¦‚éœ€è¦ï¼Œåˆ™æ“ä½œ dom èŠ‚ç‚¹æ›´æ–°ï¼›

è¦äº†è§£ Fiberï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ

- **é—®é¢˜**: éšç€åº”ç”¨å˜å¾—è¶Šæ¥è¶Šåºå¤§ï¼Œæ•´ä¸ªæ›´æ–°æ¸²æŸ“çš„è¿‡ç¨‹å¼€å§‹å˜å¾—åƒåŠ›ï¼Œå¤§é‡çš„ç»„ä»¶æ¸²æŸ“ä¼šå¯¼è‡´ä¸»è¿›ç¨‹é•¿æ—¶é—´è¢«å ç”¨ï¼Œå¯¼è‡´ä¸€äº›åŠ¨ç”»æˆ–é«˜é¢‘æ“ä½œå‡ºç°å¡é¡¿å’Œæ‰å¸§çš„æƒ…å†µã€‚è€Œå…³é”®ç‚¹ï¼Œä¾¿æ˜¯ **åŒæ­¥é˜»å¡**ã€‚åœ¨ä¹‹å‰çš„è°ƒåº¦ç®—æ³•ä¸­ï¼ŒReact éœ€è¦å®ä¾‹åŒ–æ¯ä¸ªç±»ç»„ä»¶ï¼Œç”Ÿæˆä¸€é¢—ç»„ä»¶æ ‘ï¼Œä½¿ç”¨ **åŒæ­¥é€’å½’** çš„æ–¹å¼è¿›è¡Œéå†æ¸²æŸ“ï¼Œè€Œè¿™ä¸ªè¿‡ç¨‹æœ€å¤§çš„é—®é¢˜å°±æ˜¯æ— æ³• **æš‚åœå’Œæ¢å¤**ã€‚

- **è§£å†³æ–¹æ¡ˆ**: è§£å†³åŒæ­¥é˜»å¡çš„æ–¹æ³•ï¼Œé€šå¸¸æœ‰ä¸¤ç§: **å¼‚æ­¥** ä¸ **ä»»åŠ¡åˆ†å‰²**ã€‚è€Œ React Fiber ä¾¿æ˜¯ä¸ºäº†å®ç°ä»»åŠ¡åˆ†å‰²è€Œè¯ç”Ÿçš„ã€‚

- **ç®€è¿°**: 
	- åœ¨ React V16 å°†è°ƒåº¦ç®—æ³•è¿›è¡Œäº†é‡æ„ï¼Œ å°†ä¹‹å‰çš„ stack reconciler é‡æ„æˆæ–°ç‰ˆçš„ fiber reconcilerï¼Œå˜æˆäº†å…·æœ‰é“¾è¡¨å’ŒæŒ‡é’ˆçš„ **å•é“¾è¡¨æ ‘éå†ç®—æ³•**ã€‚é€šè¿‡æŒ‡é’ˆæ˜ å°„ï¼Œæ¯ä¸ªå•å…ƒéƒ½è®°å½•ç€éå†å½“ä¸‹çš„ä¸Šä¸€æ­¥ä¸ä¸‹ä¸€æ­¥ï¼Œä»è€Œä½¿éå†å˜å¾—å¯ä»¥è¢«æš‚åœå’Œé‡å¯ã€‚
	- è¿™é‡Œæˆ‘ç†è§£ä¸ºæ˜¯ä¸€ç§ **ä»»åŠ¡åˆ†å‰²è°ƒåº¦ç®—æ³•**ï¼Œä¸»è¦æ˜¯ å°†åŸå…ˆåŒæ­¥æ›´æ–°æ¸²æŸ“çš„ä»»åŠ¡åˆ†å‰²æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„ **å°ä»»åŠ¡å•ä½**ï¼Œæ ¹æ®ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œå°†å°ä»»åŠ¡åˆ†æ•£åˆ°æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´æ‰§è¡Œï¼Œå……åˆ†åˆ©ç”¨ä¸»è¿›ç¨‹çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ã€‚

- **æ ¸å¿ƒ**: 
	- Fiber è¿™é‡Œå¯ä»¥å…·è±¡ä¸ºä¸€ä¸ª **æ•°æ®ç»“æ„**:
	
	```js
	class Fiber {
		constructor(instance) {
			this.instance = instance
			// æŒ‡å‘ç¬¬ä¸€ä¸ª child èŠ‚ç‚¹
			this.child = child
			// æŒ‡å‘çˆ¶èŠ‚ç‚¹
			this.return = parent
			// æŒ‡å‘ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹
			this.sibling = previous
		}	
	}
	```
	
	- **é“¾è¡¨æ ‘éå†ç®—æ³•**: é€šè¿‡ **èŠ‚ç‚¹ä¿å­˜ä¸æ˜ å°„**ï¼Œä¾¿èƒ½å¤Ÿéšæ—¶åœ°è¿›è¡Œ åœæ­¢å’Œé‡å¯ï¼Œè¿™æ ·ä¾¿èƒ½è¾¾åˆ°å®ç°ä»»åŠ¡åˆ†å‰²çš„åŸºæœ¬å‰æï¼›
		- 1ã€é¦–å…ˆé€šè¿‡ä¸æ–­éå†å­èŠ‚ç‚¹ï¼Œåˆ°æ ‘æœ«å°¾ï¼›
		- 2ã€å¼€å§‹é€šè¿‡ sibling éå†å…„å¼ŸèŠ‚ç‚¹ï¼›
		- 3ã€return è¿”å›çˆ¶èŠ‚ç‚¹ï¼Œç»§ç»­æ‰§è¡Œ2ï¼›
		- 4ã€ç›´åˆ° root èŠ‚ç‚¹åï¼Œè·³å‡ºéå†ï¼›
	 
	- **ä»»åŠ¡åˆ†å‰²**ï¼ŒReact ä¸­çš„æ¸²æŸ“æ›´æ–°å¯ä»¥åˆ†æˆä¸¤ä¸ªé˜¶æ®µ:
		- **reconciliation é˜¶æ®µ**: vdom çš„æ•°æ®å¯¹æ¯”ï¼Œæ˜¯ä¸ªé€‚åˆæ‹†åˆ†çš„é˜¶æ®µï¼Œæ¯”å¦‚å¯¹æ¯”ä¸€éƒ¨åˆ†æ ‘åï¼Œå…ˆæš‚åœæ‰§è¡Œä¸ªåŠ¨ç”»è°ƒç”¨ï¼Œå¾…å®Œæˆåå†å›æ¥ç»§ç»­æ¯”å¯¹ã€‚
		- **Commit é˜¶æ®µ**: å°† change list æ›´æ–°åˆ° dom ä¸Šï¼Œä¸é€‚åˆæ‹†åˆ†ï¼Œå› ä¸ºä½¿ç”¨ vdom çš„æ„ä¹‰å°±æ˜¯ä¸ºäº†èŠ‚çœä¼ è¯´ä¸­æœ€è€—æ—¶çš„ dom æ“ä½œï¼ŒæŠŠæ‰€æœ‰æ“ä½œä¸€æ¬¡æ€§æ›´æ–°ï¼Œå¦‚æœåœ¨è¿™é‡Œåˆæ‹†åˆ†ï¼Œé‚£ä¸æ˜¯åˆæ‡µäº†ä¹ˆã€‚ğŸ™ƒ

	- **åˆ†æ•£æ‰§è¡Œ**: ä»»åŠ¡åˆ†å‰²åï¼Œå°±å¯ä»¥æŠŠå°ä»»åŠ¡å•å…ƒåˆ†æ•£åˆ°æµè§ˆå™¨çš„ç©ºé—²æœŸé—´å»æ’é˜Ÿæ‰§è¡Œï¼Œè€Œå®ç°çš„å…³é”®æ˜¯ä¸¤ä¸ªæ–°API: `requestIdleCallback` ä¸ `requestAnimationFrame`
		- ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡äº¤ç»™`requestIdleCallback`å¤„ç†ï¼Œè¿™æ˜¯ä¸ªæµè§ˆå™¨æä¾›çš„äº‹ä»¶å¾ªç¯ç©ºé—²æœŸçš„å›è°ƒå‡½æ•°ï¼Œéœ€è¦ pollyfillï¼Œè€Œä¸”æ‹¥æœ‰ deadline å‚æ•°ï¼Œé™åˆ¶æ‰§è¡Œäº‹ä»¶ï¼Œä»¥ç»§ç»­åˆ‡åˆ†ä»»åŠ¡ï¼›
		- é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡äº¤ç»™`requestAnimationFrame`å¤„ç†ï¼›

	```js
	// ç±»ä¼¼äºè¿™æ ·çš„æ–¹å¼
	requestIdleCallback((deadline) => {
	    // å½“æœ‰ç©ºé—²æ—¶é—´æ—¶ï¼Œæˆ‘ä»¬æ‰§è¡Œä¸€ä¸ªç»„ä»¶æ¸²æŸ“ï¼›
	    // æŠŠä»»åŠ¡å¡åˆ°ä¸€ä¸ªä¸ªç¢ç‰‡æ—¶é—´ä¸­å»ï¼›
	    while ((deadline.timeRemaining() > 0 || deadline.didTimeout) && nextComponent) {
	        nextComponent = performWork(nextComponent);
	    }
	});
	```

	- **ä¼˜å…ˆçº§ç­–ç•¥**: æ–‡æœ¬æ¡†è¾“å…¥ > æœ¬æ¬¡è°ƒåº¦ç»“æŸéœ€å®Œæˆçš„ä»»åŠ¡ > åŠ¨ç”»è¿‡æ¸¡ > äº¤äº’åé¦ˆ > æ•°æ®æ›´æ–° > ä¸ä¼šæ˜¾ç¤ºä½†ä»¥é˜²å°†æ¥ä¼šæ˜¾ç¤ºçš„ä»»åŠ¡ 

> Tips: 
> 
> Fiber å…¶å®å¯ä»¥ç®—æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œåœ¨å…¶å®ƒè¯­è¨€ä¸­ä¹Ÿæœ‰è®¸å¤šåº”ç”¨(Ruby Fiber)ã€‚å½“é‡åˆ°è¿›ç¨‹é˜»å¡çš„é—®é¢˜æ—¶ï¼Œ**ä»»åŠ¡åˆ†å‰²**ã€**å¼‚æ­¥è°ƒç”¨** å’Œ **ç¼“å­˜ç­–ç•¥** æ˜¯ä¸‰ä¸ªæ˜¾è‘—çš„è§£å†³æ€è·¯ã€‚

<h3 id="2">2. ç”Ÿå‘½å‘¨æœŸ</h3>

åœ¨æ–°ç‰ˆæœ¬ä¸­ï¼ŒReact å®˜æ–¹å¯¹ç”Ÿå‘½å‘¨æœŸæœ‰äº†æ–°çš„ **å˜åŠ¨å»ºè®®**:

- ä½¿ç”¨`getDerivedStateFromProps` æ›¿æ¢`componentWillMount`ï¼›
- ä½¿ç”¨`getSnapshotBeforeUpdate `æ›¿æ¢`componentWillUpdate`ï¼›
- é¿å…ä½¿ç”¨`componentWillReceiveProps`ï¼›

å…¶å®è¯¥å˜åŠ¨çš„åŸå› ï¼Œæ­£æ˜¯ç”±äºä¸Šè¿°æåˆ°çš„ Fiberã€‚é¦–å…ˆï¼Œä»ä¸Šé¢æˆ‘ä»¬çŸ¥é“ React å¯ä»¥åˆ†æˆ reconciliation ä¸ commit ä¸¤ä¸ªé˜¶æ®µï¼Œå¯¹åº”çš„ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹:

- **reconciliation**:
	- `componentWillMount`
	- `componentWillReceiveProps`
	- `shouldComponentUpdate`
	- `componentWillUpdate`

- **commit**:
	- `componentDidMount`
	- `componentDidUpdate`
	- `componentWillUnmount`

åœ¨ Fiber ä¸­ï¼Œreconciliation é˜¶æ®µè¿›è¡Œäº†ä»»åŠ¡åˆ†å‰²ï¼Œæ¶‰åŠåˆ° æš‚åœ å’Œ é‡å¯ï¼Œå› æ­¤å¯èƒ½ä¼šå¯¼è‡´ reconciliation ä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°åœ¨ä¸€æ¬¡æ›´æ–°æ¸²æŸ“å¾ªç¯ä¸­è¢« **å¤šæ¬¡è°ƒç”¨** çš„æƒ…å†µï¼Œäº§ç”Ÿä¸€äº›æ„å¤–é”™è¯¯ã€‚

æ–°ç‰ˆçš„å»ºè®®ç”Ÿå‘½å‘¨æœŸå¦‚ä¸‹:

```js
class Component extends React.Component {
  // æ›¿æ¢ `componentWillReceiveProps` ï¼Œ
  // åˆå§‹åŒ–å’Œ update æ—¶è¢«è°ƒç”¨
  // é™æ€å‡½æ•°ï¼Œæ— æ³•ä½¿ç”¨ this
  static getDerivedStateFromProps(nextProps, prevState) {}
  
  // åˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶
  // å¯ä»¥ç”¨äºç»„ä»¶æ€§èƒ½ä¼˜åŒ–
  shouldComponentUpdate(nextProps, nextState) {}
  
  // ç»„ä»¶è¢«æŒ‚è½½åè§¦å‘
  componentDidMount() {}
  
  // æ›¿æ¢ componentWillUpdate
  // å¯ä»¥åœ¨æ›´æ–°ä¹‹å‰è·å–æœ€æ–° dom æ•°æ®
  getSnapshotBeforeUpdate() {}
  
  // ç»„ä»¶æ›´æ–°åè°ƒç”¨
  componentDidUpdate() {}
  
  // ç»„ä»¶å³å°†é”€æ¯
  componentWillUnmount() {}
  
  // ç»„ä»¶å·²é”€æ¯
  componentDidUnMount() {}
}
```

- **ä½¿ç”¨å»ºè®®**:
	- åœ¨`constructor`åˆå§‹åŒ– stateï¼›
	- åœ¨`componentDidMount`ä¸­è¿›è¡Œäº‹ä»¶ç›‘å¬ï¼Œå¹¶åœ¨`componentWillUnmount`ä¸­è§£ç»‘äº‹ä»¶ï¼›
	- åœ¨`componentDidMount`ä¸­è¿›è¡Œæ•°æ®çš„è¯·æ±‚ï¼Œè€Œä¸æ˜¯åœ¨`componentWillMount`ï¼›
	- éœ€è¦æ ¹æ® props æ›´æ–° state æ—¶ï¼Œä½¿ç”¨`getDerivedStateFromProps(nextProps, prevState)`ï¼›
		- æ—§ props éœ€è¦è‡ªå·±å­˜å‚¨ï¼Œä»¥ä¾¿æ¯”è¾ƒï¼›
	
	```js
	public static getDerivedStateFromProps(nextProps, prevState) {
		// å½“æ–° props ä¸­çš„ data å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒåŒæ­¥æ›´æ–°åˆ° state ä¸Š
		if (nextProps.data !== prevState.data) {
			return {
				data: nextProps.data
			}
		} else {
			return null1
		}
    }
	```
	
	- å¯ä»¥åœ¨`componentDidUpdate`ç›‘å¬ props æˆ–è€… state çš„å˜åŒ–ï¼Œä¾‹å¦‚:

	```js
	componentDidUpdate(prevProps) {
		// å½“ id å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°è·å–æ•°æ®
		if (this.props.id !== prevProps.id) {
			this.fetchData(this.props.id);
		}
	}
	```
	
	- åœ¨`componentDidUpdate`ä½¿ç”¨`setState`æ—¶ï¼Œå¿…é¡»åŠ æ¡ä»¶ï¼Œå¦åˆ™å°†è¿›å…¥æ­»å¾ªç¯ï¼›
	- `getSnapshotBeforeUpdate(prevProps, prevState)`å¯ä»¥åœ¨æ›´æ–°ä¹‹å‰è·å–æœ€æ–°çš„æ¸²æŸ“æ•°æ®ï¼Œå®ƒçš„è°ƒç”¨æ˜¯åœ¨ render ä¹‹åï¼Œ mounted ä¹‹å‰ï¼›
	- `shouldComponentUpdate`: é»˜è®¤æ¯æ¬¡è°ƒç”¨`setState`ï¼Œä¸€å®šä¼šæœ€ç»ˆèµ°åˆ° diff é˜¶æ®µï¼Œä½†å¯ä»¥é€šè¿‡`shouldComponentUpdate`çš„ç”Ÿå‘½é’©å­è¿”å›`false`æ¥ç›´æ¥é˜»æ­¢åé¢çš„é€»è¾‘æ‰§è¡Œï¼Œé€šå¸¸æ˜¯ç”¨äºåšæ¡ä»¶æ¸²æŸ“ï¼Œä¼˜åŒ–æ¸²æŸ“çš„æ€§èƒ½ã€‚

<h3 id="3">3. setState</h3>

åœ¨äº†è§£`setState`ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ç®€å•äº†è§£ä¸‹ React ä¸€ä¸ªåŒ…è£…ç»“æ„: **Transaction**:

- **äº‹åŠ¡** (Transaction): 
	- æ˜¯ React ä¸­çš„ä¸€ä¸ªè°ƒç”¨ç»“æ„ï¼Œç”¨äºåŒ…è£…ä¸€ä¸ªæ–¹æ³•ï¼Œç»“æ„ä¸º: **initialize - perform(method) - close**ã€‚é€šè¿‡äº‹åŠ¡ï¼Œå¯ä»¥ç»Ÿä¸€ç®¡ç†ä¸€ä¸ªæ–¹æ³•çš„å¼€å§‹ä¸ç»“æŸï¼›å¤„äºäº‹åŠ¡æµä¸­ï¼Œè¡¨ç¤ºè¿›ç¨‹æ­£åœ¨æ‰§è¡Œä¸€äº›æ“ä½œï¼› 

<img width="750" src="./images/interview/7.png">

- `setState`: React ä¸­ç”¨äºä¿®æ”¹çŠ¶æ€ï¼Œæ›´æ–°è§†å›¾ã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹:

- **å¼‚æ­¥ä¸åŒæ­¥**: `setState`å¹¶ä¸æ˜¯å•çº¯çš„å¼‚æ­¥æˆ–åŒæ­¥ï¼Œè¿™å…¶å®ä¸è°ƒç”¨æ—¶çš„ç¯å¢ƒç›¸å…³:
	- åœ¨ **åˆæˆäº‹ä»¶** å’Œ **ç”Ÿå‘½å‘¨æœŸé’©å­(é™¤ componentDidUpdate)** ä¸­ï¼Œ`setState`æ˜¯"å¼‚æ­¥"çš„ï¼›
		- **åŸå› **: å› ä¸ºåœ¨`setState`çš„å®ç°ä¸­ï¼Œæœ‰ä¸€ä¸ªåˆ¤æ–­: å½“æ›´æ–°ç­–ç•¥æ­£åœ¨äº‹åŠ¡æµçš„æ‰§è¡Œä¸­æ—¶ï¼Œè¯¥ç»„ä»¶æ›´æ–°ä¼šè¢«æ¨å…¥`dirtyComponents`é˜Ÿåˆ—ä¸­ç­‰å¾…æ‰§è¡Œï¼›å¦åˆ™ï¼Œå¼€å§‹æ‰§è¡Œ`batchedUpdates`é˜Ÿåˆ—æ›´æ–°ï¼›
			- åœ¨ç”Ÿå‘½å‘¨æœŸé’©å­è°ƒç”¨ä¸­ï¼Œæ›´æ–°ç­–ç•¥éƒ½å¤„äºæ›´æ–°ä¹‹å‰ï¼Œç»„ä»¶ä»å¤„äºäº‹åŠ¡æµä¸­ï¼Œè€Œ`componentDidUpdate`æ˜¯åœ¨æ›´æ–°ä¹‹åï¼Œæ­¤æ—¶ç»„ä»¶å·²ç»ä¸åœ¨äº‹åŠ¡æµä¸­äº†ï¼Œå› æ­¤åˆ™ä¼šåŒæ­¥æ‰§è¡Œï¼›
			- åœ¨åˆæˆäº‹ä»¶ä¸­ï¼ŒReact æ˜¯åŸºäº **äº‹åŠ¡æµå®Œæˆçš„äº‹ä»¶å§”æ‰˜æœºåˆ¶** å®ç°ï¼Œä¹Ÿæ˜¯å¤„äºäº‹åŠ¡æµä¸­ï¼›
		- **é—®é¢˜**: æ— æ³•åœ¨`setState`åé©¬ä¸Šä»`this.state`ä¸Šè·å–æ›´æ–°åçš„å€¼ã€‚
		- **è§£å†³**: å¦‚æœéœ€è¦é©¬ä¸ŠåŒæ­¥å»è·å–æ–°å€¼ï¼Œ`setState`å…¶å®æ˜¯å¯ä»¥ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°çš„ã€‚`setState(updater, callback)`ï¼Œåœ¨å›è°ƒä¸­å³å¯è·å–æœ€æ–°å€¼ï¼›
	- åœ¨ **åŸç”Ÿäº‹ä»¶** å’Œ **setTimeout** ä¸­ï¼Œ`setState`æ˜¯åŒæ­¥çš„ï¼Œå¯ä»¥é©¬ä¸Šè·å–æ›´æ–°åçš„å€¼ï¼›
		- åŸå› : åŸç”Ÿäº‹ä»¶æ˜¯æµè§ˆå™¨æœ¬èº«çš„å®ç°ï¼Œä¸äº‹åŠ¡æµæ— å…³ï¼Œè‡ªç„¶æ˜¯åŒæ­¥ï¼›è€Œ`setTimeout`æ˜¯æ”¾ç½®äºå®šæ—¶å™¨çº¿ç¨‹ä¸­å»¶åæ‰§è¡Œï¼Œæ­¤æ—¶äº‹åŠ¡æµå·²ç»“æŸï¼Œå› æ­¤ä¹Ÿæ˜¯åŒæ­¥ï¼›

- **æ‰¹é‡æ›´æ–°**: åœ¨ **åˆæˆäº‹ä»¶** å’Œ **ç”Ÿå‘½å‘¨æœŸé’©å­** ä¸­ï¼Œ`setState`æ›´æ–°é˜Ÿåˆ—æ—¶ï¼Œå­˜å‚¨çš„æ˜¯ **åˆå¹¶çŠ¶æ€**(`Object.assign`)ã€‚å› æ­¤å‰é¢è®¾ç½®çš„ key å€¼ä¼šè¢«åé¢æ‰€è¦†ç›–ï¼Œæœ€ç»ˆåªä¼šæ‰§è¡Œä¸€æ¬¡æ›´æ–°ï¼›

- **å‡½æ•°å¼**: ç”±äº Fiber åŠ åˆå¹¶ çš„é—®é¢˜ï¼Œå®˜æ–¹æ¨èå¯ä»¥ä¼ å…¥ **å‡½æ•°** çš„å½¢å¼ã€‚`setState(fn)`ï¼Œåœ¨`fn`ä¸­è¿”å›æ–°çš„`state`å¯¹è±¡å³å¯ï¼Œä¾‹å¦‚`this.state((state, props) => newState)ï¼›`
	- ä½¿ç”¨å‡½æ•°å¼ï¼Œå¯ä»¥ç”¨äºé¿å…`setState`çš„æ‰¹é‡æ›´æ–°çš„é€»è¾‘ï¼Œä¼ å…¥çš„å‡½æ•°å°†ä¼šè¢« **é¡ºåºè°ƒç”¨**ï¼›

- **æ³¨æ„äº‹é¡¹**:
	- setState åˆå¹¶ï¼Œåœ¨ åˆæˆäº‹ä»¶ å’Œ ç”Ÿå‘½å‘¨æœŸé’©å­ ä¸­å¤šæ¬¡è¿ç»­è°ƒç”¨ä¼šè¢«ä¼˜åŒ–ä¸ºä¸€æ¬¡ï¼›
	- å½“ç»„ä»¶å·²è¢«é”€æ¯ï¼Œå¦‚æœå†æ¬¡è°ƒç”¨`setState`ï¼ŒReact ä¼šæŠ¥é”™è­¦å‘Šï¼Œé€šå¸¸æœ‰ä¸¤ç§è§£å†³åŠæ³•:
		- å°†æ•°æ®æŒ‚è½½åˆ°å¤–éƒ¨ï¼Œé€šè¿‡ props ä¼ å…¥ï¼Œå¦‚æ”¾åˆ° Redux æˆ– çˆ¶çº§ä¸­ï¼›
		- åœ¨ç»„ä»¶å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªçŠ¶æ€é‡ (isUnmounted)ï¼Œ`componentWillUnmount`ä¸­æ ‡è®°ä¸º trueï¼Œåœ¨`setState`å‰è¿›è¡Œåˆ¤æ–­ï¼›

<h3 id="4">4. HOC(é«˜é˜¶ç»„ä»¶)</h3>

HOC(Higher Order Componennt) æ˜¯åœ¨ React æœºåˆ¶ä¸‹ç¤¾åŒºå½¢æˆçš„ä¸€ç§ç»„ä»¶æ¨¡å¼ï¼Œåœ¨å¾ˆå¤šç¬¬ä¸‰æ–¹å¼€æºåº“ä¸­è¡¨ç°å¼ºå¤§ã€‚

- **ç®€è¿°**:
	- é«˜é˜¶ç»„ä»¶ä¸æ˜¯ç»„ä»¶ï¼Œæ˜¯ **å¢å¼ºå‡½æ•°**ï¼Œå¯ä»¥è¾“å…¥ä¸€ä¸ªå…ƒç»„ä»¶ï¼Œè¿”å›å‡ºä¸€ä¸ªæ–°çš„å¢å¼ºç»„ä»¶ï¼›
	- é«˜é˜¶ç»„ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯ **ä»£ç å¤ç”¨**ï¼Œ**æ“ä½œ** çŠ¶æ€å’Œå‚æ•°ï¼›

- **ç”¨æ³•**: 
	- **å±æ€§ä»£ç† (Props Proxy)**: è¿”å›å‡ºä¸€ä¸ªç»„ä»¶ï¼Œå®ƒåŸºäºè¢«åŒ…è£¹ç»„ä»¶è¿›è¡Œ **åŠŸèƒ½å¢å¼º**ï¼›
		- **é»˜è®¤å‚æ•°**: å¯ä»¥ä¸ºç»„ä»¶åŒ…è£¹ä¸€å±‚é»˜è®¤å‚æ•°ï¼›
		
		```js
		function proxyHoc(Comp) {
			return class extends React.Component {
				render() {
					const newProps = {
						name: 'tayde',
						age: 1,
					}
					return <Comp {...this.props} {...newProps} />
				}
			}
		}
		```
		
		- **æå–çŠ¶æ€**: å¯ä»¥é€šè¿‡ props å°†è¢«åŒ…è£¹ç»„ä»¶ä¸­çš„ state ä¾èµ–å¤–å±‚ï¼Œä¾‹å¦‚ç”¨äºè½¬æ¢å—æ§ç»„ä»¶:

		```js
		function withOnChange(Comp) {
			return class extends React.Component {
				constructor(props) {
					super(props)
					this.state = {
						name: '',
					}
				}
				onChangeName = () => {
					this.setState({
						name: 'dongdong',
					})
				}
				render() {
					const newProps = {
						value: this.state.name,
						onChange: this.onChangeName,
					}
					return <Comp {...this.props} {...newProps} />
				}
			}
		}
		```
		
		ä½¿ç”¨å§¿åŠ¿å¦‚ä¸‹ï¼Œè¿™æ ·å°±èƒ½éå¸¸å¿«é€Ÿçš„å°†ä¸€ä¸ª `Input` ç»„ä»¶è½¬åŒ–æˆå—æ§ç»„ä»¶ã€‚ 
		
		```js
		const NameInput = props => (<input name="name" {...props} />)
		export default withOnChange(NameInput)
		```
		
		- **åŒ…è£¹ç»„ä»¶**: å¯ä»¥ä¸ºè¢«åŒ…è£¹å…ƒç´ è¿›è¡Œä¸€å±‚åŒ…è£…ï¼Œ

		```js
		function withMask(Comp) {
			return class extends React.Component {
				render() {
					return (
						<div>
							<Comp {...this.props} />
							<div style={{
								width: '100%',
								height: '100%',
								backgroundColor: 'rgba(0, 0, 0, .6)',
							}} 
						</div>
					)
				}
			}
		}
		```
		
	- **åå‘ç»§æ‰¿** (Inheritance Inversion): è¿”å›å‡ºä¸€ä¸ªç»„ä»¶ï¼Œ**ç»§æ‰¿äºè¢«åŒ…è£¹ç»„ä»¶**ï¼Œå¸¸ç”¨äºä»¥ä¸‹æ“ä½œ:
		
		```js
		function IIHoc(Comp) {
		    return class extends Comp {
		        render() {
		            return super.render();
		        }
		    };
		}
		```
		
		- **æ¸²æŸ“åŠ«æŒ** (Render Highjacking)
			- **æ¡ä»¶æ¸²æŸ“**: æ ¹æ®æ¡ä»¶ï¼Œæ¸²æŸ“ä¸åŒçš„ç»„ä»¶

			```js
			function withLoading(Comp) {
			    return class extends Comp {
			        render() {
			            if(this.props.isLoading) {
			                return <Loading />
			            } else {
			                return super.render()
			            }
			        }
			    };
			}
			```
			
			- å¯ä»¥ç›´æ¥ä¿®æ”¹è¢«åŒ…è£¹ç»„ä»¶æ¸²æŸ“å‡ºçš„ React å…ƒç´ æ ‘
			
		- **æ“ä½œçŠ¶æ€** (Operate State): å¯ä»¥ç›´æ¥é€šè¿‡ `this.state` è·å–åˆ°è¢«åŒ…è£¹ç»„ä»¶çš„çŠ¶æ€ï¼Œå¹¶è¿›è¡Œæ“ä½œã€‚ä½†è¿™æ ·çš„æ“ä½œå®¹æ˜“ä½¿ state å˜å¾—éš¾ä»¥è¿½è¸ªï¼Œä¸æ˜“ç»´æŠ¤ï¼Œè°¨æ…ä½¿ç”¨ã€‚
		
- **åº”ç”¨åœºæ™¯**:

	- **æƒé™æ§åˆ¶**ï¼Œé€šè¿‡æŠ½è±¡é€»è¾‘ï¼Œç»Ÿä¸€å¯¹é¡µé¢è¿›è¡Œæƒé™åˆ¤æ–­ï¼ŒæŒ‰ä¸åŒçš„æ¡ä»¶è¿›è¡Œé¡µé¢æ¸²æŸ“:

	```js
	function withAdminAuth(WrappedComponent) {
	    return class extends React.Component {
			constructor(props){
				super(props)
				this.state = {
			    	isAdmin: false,
				}
			} 
			async componentWillMount() {
			    const currentRole = await getCurrentUserRole();
			    this.setState({
			        isAdmin: currentRole === 'Admin',
			    });
			}
			render() {
			    if (this.state.isAdmin) {
			        return <Comp {...this.props} />;
			    } else {
			        return (<div>æ‚¨æ²¡æœ‰æƒé™æŸ¥çœ‹è¯¥é¡µé¢ï¼Œè¯·è”ç³»ç®¡ç†å‘˜ï¼</div>);
			    }
			}
	    };
	}
	```
	
	- **æ€§èƒ½ç›‘æ§**ï¼ŒåŒ…è£¹ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¿›è¡Œç»Ÿä¸€åŸ‹ç‚¹:

	```js
	function withTiming(Comp) {
	    return class extends Comp {
	        constructor(props) {
	            super(props);
	            this.start = Date.now();
	            this.end = 0;
	        }
	        componentDidMount() {
	            super.componentDidMount && super.componentDidMount();
	            this.end = Date.now();
	            console.log(`${WrappedComponent.name} ç»„ä»¶æ¸²æŸ“æ—¶é—´ä¸º ${this.end - this.start} ms`);
	        }
	        render() {
	            return super.render();
	        }
	    };
	}
	```
	
	- **ä»£ç å¤ç”¨**ï¼Œå¯ä»¥å°†é‡å¤çš„é€»è¾‘è¿›è¡ŒæŠ½è±¡ã€‚

- ä½¿ç”¨æ³¨æ„:
	- 1. **çº¯å‡½æ•°**: å¢å¼ºå‡½æ•°åº”ä¸ºçº¯å‡½æ•°ï¼Œé¿å…ä¾µå…¥ä¿®æ”¹å…ƒç»„ä»¶ï¼›
	- 2. **é¿å…ç”¨æ³•æ±¡æŸ“**: ç†æƒ³çŠ¶æ€ä¸‹ï¼Œåº”é€ä¼ å…ƒç»„ä»¶çš„æ— å…³å‚æ•°ä¸äº‹ä»¶ï¼Œå°½é‡ä¿è¯ç”¨æ³•ä¸å˜ï¼›
	- 3. **å‘½åç©ºé—´**: ä¸º HOC å¢åŠ ç‰¹å¼‚æ€§çš„ç»„ä»¶åç§°ï¼Œè¿™æ ·èƒ½ä¾¿äºå¼€å‘è°ƒè¯•å’ŒæŸ¥æ‰¾é—®é¢˜ï¼›
	- 4. **å¼•ç”¨ä¼ é€’**: å¦‚æœéœ€è¦ä¼ é€’å…ƒç»„ä»¶çš„ refs å¼•ç”¨ï¼Œå¯ä»¥ä½¿ç”¨`React.forwardRef`ï¼›
	- 5. **é™æ€æ–¹æ³•**: å…ƒç»„ä»¶ä¸Šçš„é™æ€æ–¹æ³•å¹¶æ— æ³•è¢«è‡ªåŠ¨ä¼ å‡ºï¼Œä¼šå¯¼è‡´ä¸šåŠ¡å±‚æ— æ³•è°ƒç”¨ï¼›è§£å†³:
		- å‡½æ•°å¯¼å‡º
		- é™æ€æ–¹æ³•èµ‹å€¼
	- 6. **é‡æ–°æ¸²æŸ“**: ç”±äºå¢å¼ºå‡½æ•°æ¯æ¬¡è°ƒç”¨æ˜¯è¿”å›ä¸€ä¸ªæ–°ç»„ä»¶ï¼Œå› æ­¤å¦‚æœåœ¨ Render ä¸­ä½¿ç”¨å¢å¼ºå‡½æ•°ï¼Œå°±ä¼šå¯¼è‡´æ¯æ¬¡éƒ½é‡æ–°æ¸²æŸ“æ•´ä¸ªHOCï¼Œè€Œä¸”ä¹‹å‰çš„çŠ¶æ€ä¼šä¸¢å¤±ï¼›
	
<h3 id="5">5. Redux</h3>

Redux æ˜¯ä¸€ä¸ª **æ•°æ®ç®¡ç†ä¸­å¿ƒ**ï¼Œå¯ä»¥æŠŠå®ƒç†è§£ä¸ºä¸€ä¸ªå…¨å±€çš„ data store å®ä¾‹ã€‚å®ƒé€šè¿‡ä¸€å®šçš„ä½¿ç”¨è§„åˆ™å’Œé™åˆ¶ï¼Œä¿è¯ç€æ•°æ®çš„å¥å£®æ€§ã€å¯è¿½æº¯å’Œå¯é¢„æµ‹æ€§ã€‚å®ƒä¸ React æ— å…³ï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œäºä»»ä½• JavaScript ç¯å¢ƒä¸­ï¼Œä»è€Œä¹Ÿä¸ºåŒæ„åº”ç”¨æä¾›äº†æ›´å¥½çš„æ•°æ®åŒæ­¥é€šé“ã€‚

- **æ ¸å¿ƒç†å¿µ**:
	- **å•ä¸€æ•°æ®æº**: æ•´ä¸ªåº”ç”¨åªæœ‰å”¯ä¸€çš„çŠ¶æ€æ ‘ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ state æœ€ç»ˆç»´æŠ¤åœ¨ä¸€ä¸ªæ ¹çº§ Store ä¸­ï¼›
	- **çŠ¶æ€åªè¯»**: ä¸ºäº†ä¿è¯çŠ¶æ€çš„å¯æ§æ€§ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯ç›‘æ§çŠ¶æ€çš„å˜åŒ–ã€‚é‚£è¿™é‡Œå°±ä¸¤ä¸ªå¿…è¦æ¡ä»¶ï¼š
		- Redux Store ä¸­çš„æ•°æ®æ— æ³•è¢«ç›´æ¥ä¿®æ”¹ï¼›
		- ä¸¥æ ¼æ§åˆ¶ä¿®æ”¹çš„æ‰§è¡Œï¼›
	- **çº¯å‡½æ•°**: è§„å®šåªèƒ½é€šè¿‡ä¸€ä¸ªçº¯å‡½æ•° (Reducer) æ¥æè¿°ä¿®æ”¹ï¼›

- å¤§è‡´çš„æ•°æ®ç»“æ„å¦‚ä¸‹æ‰€ç¤º:

<img width="500" src="./images/interview/8.png">



- **ç†å¿µå®ç°**:
	- **Store**: å…¨å±€ Store å•ä¾‹ï¼Œ æ¯ä¸ª Redux åº”ç”¨ä¸‹åªæœ‰ä¸€ä¸ª storeï¼Œ å®ƒå…·æœ‰ä»¥ä¸‹æ–¹æ³•ä¾›ä½¿ç”¨:
		- `getState`: è·å– stateï¼›
		- `dispatch`: è§¦å‘ action, æ›´æ–° stateï¼›
		- `subscribe`: è®¢é˜…æ•°æ®å˜æ›´ï¼Œæ³¨å†Œç›‘å¬å™¨ï¼›
	
	```js
	// åˆ›å»º
	const store = createStore(Reducer, initStore)
	```
	
	- **Action**: å®ƒä½œä¸ºä¸€ä¸ªè¡Œä¸ºè½½ä½“ï¼Œç”¨äºæ˜ å°„ç›¸åº”çš„ Reducerï¼Œå¹¶ä¸”å®ƒå¯ä»¥æˆä¸ºæ•°æ®çš„è½½ä½“ï¼Œå°†æ•°æ®ä»åº”ç”¨ä¼ é€’è‡³ store ä¸­ï¼Œæ˜¯ store **å”¯ä¸€çš„æ•°æ®æº**ï¼›

	```js
	// ä¸€ä¸ªæ™®é€šçš„ Action
   const action = {
		type: 'ADD_LIST',
		item: 'list-item-1',
	}
	
	// ä½¿ç”¨ï¼š
	store.dispatch(action)
	
	// é€šå¸¸ä¸ºäº†ä¾¿äºè°ƒç”¨ï¼Œä¼šæœ‰ä¸€ä¸ª Action åˆ›å»ºå‡½æ•° (action creater)
	funtion addList(item) {
		return const action = {
			type: 'ADD_LIST',
			item,
		}
	}
	
	// è°ƒç”¨å°±ä¼šå˜æˆ:
	dispatch(addList('list-item-1'))
	```
		
	- **Reducer**: ç”¨äºæè¿°å¦‚ä½•ä¿®æ”¹æ•°æ®çš„çº¯å‡½æ•°ï¼ŒAction å±äºè¡Œä¸ºåç§°ï¼Œè€Œ Reducer ä¾¿æ˜¯ä¿®æ”¹è¡Œä¸ºçš„å®è´¨ï¼›

	```js
	// ä¸€ä¸ªå¸¸è§„çš„ Reducer
	// @param {state}: æ—§æ•°æ®
	// @param {action}: Action å¯¹è±¡
	// @returns {any}: æ–°æ•°æ®
	const initList = []
	function ListReducer(state = initList, action) {
		switch (action.type) {
			case 'ADD_LIST':
				return state.concat([action.item])
				break
			defalut:
				return state
		}
	}
	```
		
	> **æ³¨æ„**:
	>
	> 1. éµå®ˆæ•°æ®ä¸å¯å˜ï¼Œä¸è¦å»ç›´æ¥ä¿®æ”¹ stateï¼Œè€Œæ˜¯è¿”å›å‡ºä¸€ä¸ª **æ–°å¯¹è±¡**ï¼Œå¯ä»¥ä½¿ç”¨ `assign / copy / extend / è§£æ„` ç­‰æ–¹å¼åˆ›å»ºæ–°å¯¹è±¡ï¼›
	> 2. é»˜è®¤æƒ…å†µä¸‹éœ€è¦ **è¿”å›åŸæ•°æ®**ï¼Œé¿å…æ•°æ®è¢«æ¸…ç©ºï¼›
	> 3. æœ€å¥½è®¾ç½® **åˆå§‹å€¼**ï¼Œä¾¿äºåº”ç”¨çš„åˆå§‹åŒ–åŠæ•°æ®ç¨³å®šï¼›

- **è¿›é˜¶**:
	- **React-Redux**: ç»“åˆ React ä½¿ç”¨ï¼›
		- `<Provider>`: å°† store é€šè¿‡ context ä¼ å…¥ç»„ä»¶ä¸­ï¼›
		- `connect`: ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œå¯ä»¥æ–¹ä¾¿åœ¨ React ç»„ä»¶ä¸­ä½¿ç”¨ Reduxï¼›
			- 1. å°†`store`é€šè¿‡`mapStateToProps`è¿›è¡Œç­›é€‰åä½¿ç”¨`props`æ³¨å…¥ç»„ä»¶
			- 2. æ ¹æ®`mapDispatchToProps`åˆ›å»ºæ–¹æ³•ï¼Œå½“ç»„ä»¶è°ƒç”¨æ—¶ä½¿ç”¨`dispatch`è§¦å‘å¯¹åº”çš„`action` 
	- **Reducer çš„æ‹†åˆ†ä¸é‡æ„**: 
		- éšç€é¡¹ç›®è¶Šå¤§ï¼Œå¦‚æœå°†æ‰€æœ‰çŠ¶æ€çš„ reducer å…¨éƒ¨å†™åœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå°†ä¼š **éš¾ä»¥ç»´æŠ¤**ï¼›
		- å¯ä»¥å°† reducer è¿›è¡Œæ‹†åˆ†ï¼Œä¹Ÿå°±æ˜¯ **å‡½æ•°åˆ†è§£**ï¼Œæœ€ç»ˆå†ä½¿ç”¨`combineReducers()`è¿›è¡Œé‡æ„åˆå¹¶ï¼›
	- **å¼‚æ­¥ Action**: ç”±äº Reducer æ˜¯ä¸€ä¸ªä¸¥æ ¼çš„çº¯å‡½æ•°ï¼Œå› æ­¤æ— æ³•åœ¨ Reducer ä¸­è¿›è¡Œæ•°æ®çš„è¯·æ±‚ï¼Œéœ€è¦å…ˆè·å–æ•°æ®ï¼Œå†`dispatch(Action)`å³å¯ï¼Œä¸‹é¢æ˜¯ä¸‰ç§ä¸åŒçš„å¼‚æ­¥å®ç°:
		- [redex-thunk](https://github.com/reduxjs/redux-thunk)
		- [redux-saga](https://github.com/redux-saga/redux-saga)
		- [redux-observable](https://github.com/redux-observable/redux-observable)

<h3 id="6">6. React Hooks</h3>

React ä¸­é€šå¸¸ä½¿ç”¨ **ç±»å®šä¹‰** æˆ–è€… **å‡½æ•°å®šä¹‰** åˆ›å»ºç»„ä»¶:

åœ¨ç±»å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ°è®¸å¤š React ç‰¹æ€§ï¼Œä¾‹å¦‚ stateã€ å„ç§ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­ç­‰ï¼Œä½†æ˜¯åœ¨å‡½æ•°å®šä¹‰ä¸­ï¼Œæˆ‘ä»¬å´æ— èƒ½ä¸ºåŠ›ï¼Œå› æ­¤ React 16.8 ç‰ˆæœ¬æ¨å‡ºäº†ä¸€ä¸ªæ–°åŠŸèƒ½ (React Hooks)ï¼Œé€šè¿‡å®ƒï¼Œå¯ä»¥æ›´å¥½çš„åœ¨å‡½æ•°å®šä¹‰ç»„ä»¶ä¸­ä½¿ç”¨ React ç‰¹æ€§ã€‚

- **å¥½å¤„**:
	- 1ã€**è·¨ç»„ä»¶å¤ç”¨**: å…¶å® render props / HOC ä¹Ÿæ˜¯ä¸ºäº†å¤ç”¨ï¼Œç›¸æ¯”äºå®ƒä»¬ï¼ŒHooks ä½œä¸ºå®˜æ–¹çš„åº•å±‚ APIï¼Œæœ€ä¸ºè½»é‡ï¼Œè€Œä¸”æ”¹é€ æˆæœ¬å°ï¼Œä¸ä¼šå½±å“åŸæ¥çš„ç»„ä»¶å±‚æ¬¡ç»“æ„å’Œä¼ è¯´ä¸­çš„åµŒå¥—åœ°ç‹±ï¼›
	- 2ã€**ç±»å®šä¹‰æ›´ä¸ºå¤æ‚**: 
		- ä¸åŒçš„ç”Ÿå‘½å‘¨æœŸä¼šä½¿é€»è¾‘å˜å¾—åˆ†æ•£ä¸”æ··ä¹±ï¼Œä¸æ˜“ç»´æŠ¤å’Œç®¡ç†ï¼›
		- æ—¶åˆ»éœ€è¦å…³æ³¨`this`çš„æŒ‡å‘é—®é¢˜ï¼›
		- ä»£ç å¤ç”¨ä»£ä»·é«˜ï¼Œé«˜é˜¶ç»„ä»¶çš„ä½¿ç”¨ç»å¸¸ä¼šä½¿æ•´ä¸ªç»„ä»¶æ ‘å˜å¾—è‡ƒè‚¿ï¼›
	- 3ã€**çŠ¶æ€ä¸UIéš”ç¦»**: æ­£æ˜¯ç”±äº Hooks çš„ç‰¹æ€§ï¼ŒçŠ¶æ€é€»è¾‘ä¼šå˜æˆæ›´å°çš„ç²’åº¦ï¼Œå¹¶ä¸”æå®¹æ˜“è¢«æŠ½è±¡æˆä¸€ä¸ªè‡ªå®šä¹‰ Hooksï¼Œç»„ä»¶ä¸­çš„çŠ¶æ€å’Œ UI å˜å¾—æ›´ä¸ºæ¸…æ™°å’Œéš”ç¦»ã€‚

- **æ³¨æ„**:
	- é¿å…åœ¨ å¾ªç¯/æ¡ä»¶åˆ¤æ–­/åµŒå¥—å‡½æ•° ä¸­è°ƒç”¨ hooksï¼Œä¿è¯è°ƒç”¨é¡ºåºçš„ç¨³å®šï¼›
	- åªæœ‰ å‡½æ•°å®šä¹‰ç»„ä»¶ å’Œ hooks å¯ä»¥è°ƒç”¨ hooksï¼Œé¿å…åœ¨ ç±»ç»„ä»¶ æˆ–è€… æ™®é€šå‡½æ•° ä¸­è°ƒç”¨ï¼›
	- ä¸èƒ½åœ¨`useEffect`ä¸­ä½¿ç”¨`useState`ï¼ŒReact ä¼šæŠ¥é”™æç¤ºï¼›
	- ç±»ç»„ä»¶ä¸ä¼šè¢«æ›¿æ¢æˆ–åºŸå¼ƒï¼Œä¸éœ€è¦å¼ºåˆ¶æ”¹é€ ç±»ç»„ä»¶ï¼Œä¸¤ç§æ–¹å¼èƒ½å¹¶å­˜ï¼›

- **é‡è¦é’©å­***:
	- **çŠ¶æ€é’©å­** (`useState`): ç”¨äºå®šä¹‰ç»„ä»¶çš„ Stateï¼Œå…¶åˆ°ç±»å®šä¹‰ä¸­`this.state`çš„åŠŸèƒ½ï¼›
	
	```js
	// useState åªæ¥å—ä¸€ä¸ªå‚æ•°: åˆå§‹çŠ¶æ€
	// è¿”å›çš„æ˜¯ç»„ä»¶åå’Œæ›´æ”¹è¯¥ç»„ä»¶å¯¹åº”çš„å‡½æ•°
	const [flag, setFlag] = useState(true);
	// ä¿®æ”¹çŠ¶æ€
	setFlag(false)
		
	// ä¸Šé¢çš„ä»£ç æ˜ å°„åˆ°ç±»å®šä¹‰ä¸­:
	this.state = {
		flag: true	
	}
	const flag = this.state.flag
	const setFlag = (bool) => {
	    this.setState({
	        flag: bool,
	    })
	}
	```

	- **ç”Ÿå‘½å‘¨æœŸé’©å­** (`useEffect`):
	
	ç±»å®šä¹‰ä¸­æœ‰è®¸å¤šç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œè€Œåœ¨ React Hooks ä¸­ä¹Ÿæä¾›äº†ä¸€ä¸ªç›¸åº”çš„å‡½æ•° (`useEffect`)ï¼Œè¿™é‡Œå¯ä»¥çœ‹åš`componentDidMount`ã€`componentDidUpdate`å’Œ`componentWillUnmount`çš„ç»“åˆã€‚
	
	- `useEffect(callback, [source])`æ¥å—ä¸¤ä¸ªå‚æ•°
		- `callback`: é’©å­å›è°ƒå‡½æ•°ï¼›
		- `source`: è®¾ç½®è§¦å‘æ¡ä»¶ï¼Œä»…å½“ source å‘ç”Ÿæ”¹å˜æ—¶æ‰ä¼šè§¦å‘ï¼›
		- `useEffect`é’©å­åœ¨æ²¡æœ‰ä¼ å…¥`[source]`å‚æ•°æ—¶ï¼Œé»˜è®¤åœ¨æ¯æ¬¡ render æ—¶éƒ½ä¼šä¼˜å…ˆè°ƒç”¨ä¸Šæ¬¡ä¿å­˜çš„å›è°ƒä¸­è¿”å›çš„å‡½æ•°ï¼Œåå†é‡æ–°è°ƒç”¨å›è°ƒï¼›
	
	```js
	useEffect(() => {
		// ç»„ä»¶æŒ‚è½½åæ‰§è¡Œäº‹ä»¶ç»‘å®š
		console.log('on')
		addEventListener()
		
		// ç»„ä»¶ update æ—¶ä¼šæ‰§è¡Œäº‹ä»¶è§£ç»‘
		return () => {
			console.log('off')
			removeEventListener()
		}
	}, [source]);
	
	
	// æ¯æ¬¡ source å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰§è¡Œç»“æœ(ä»¥ç±»å®šä¹‰çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¾¿äºå¤§å®¶ç†è§£):
	// --- DidMount ---
	// 'on'
	// --- DidUpdate ---
	// 'off'
	// 'on'
	// --- DidUpdate ---
	// 'off'
	// 'on'
	// --- WillUnmount --- 
	// 'off'
	```
	- é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°ï¼Œæˆ‘ä»¬ä¾¿å¯æ¨¡æ‹Ÿå‡ºå‡ ä¸ªå¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸ:
		- `componentDidMount`: ä¼ å…¥`[]`æ—¶ï¼Œå°±åªä¼šåœ¨åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡ï¼›

		```js
		const useMount = (fn) => useEffect(fn, [])
		``` 
		
		- `componentWillUnmount`: ä¼ å…¥`[]`ï¼Œå›è°ƒä¸­çš„è¿”å›çš„å‡½æ•°ä¹Ÿåªä¼šè¢«æœ€ç»ˆæ‰§è¡Œä¸€æ¬¡ï¼›

		```js
		const useUnmount = (fn) => useEffect(() => fn, [])
		```
		
		- `mounted `: å¯ä»¥ä½¿ç”¨ useState å°è£…æˆä¸€ä¸ªé«˜åº¦å¯å¤ç”¨çš„ mounted çŠ¶æ€ï¼›

		```js
		const useMounted = () => {
		    const [mounted, setMounted] = useState(false);
		    useEffect(() => {
		        !mounted && setMounted(true);
		        return () => setMounted(false);
		    }, []);
		    return mounted;
		}
		```
		
		- `componentDidUpdate`: `useEffect`æ¯æ¬¡å‡ä¼šæ‰§è¡Œï¼Œå…¶å®å°±æ˜¯æ’é™¤äº† DidMount åå³å¯ï¼›

		```js
		const mounted = useMounted() 
	    useEffect(() => {
	        mounted && fn()
	    })
		```

- **å…¶å®ƒå†…ç½®é’©å­**:
	- `useContext`: è·å– context å¯¹è±¡
	- `useReducer`: ç±»ä¼¼äº Redux æ€æƒ³çš„å®ç°ï¼Œä½†å…¶å¹¶ä¸è¶³ä»¥æ›¿ä»£ Reduxï¼Œå¯ä»¥ç†è§£æˆä¸€ä¸ªç»„ä»¶å†…éƒ¨çš„ redux:
		- å¹¶ä¸æ˜¯æŒä¹…åŒ–å­˜å‚¨ï¼Œä¼šéšç€ç»„ä»¶è¢«é”€æ¯è€Œé”€æ¯ï¼›
		- å±äºç»„ä»¶å†…éƒ¨ï¼Œå„ä¸ªç»„ä»¶æ˜¯ç›¸äº’éš”ç¦»çš„ï¼Œå•çº¯ç”¨å®ƒå¹¶æ— æ³•å…±äº«æ•°æ®ï¼›
		- é…åˆ`useContext`çš„å…¨å±€æ€§ï¼Œå¯ä»¥å®Œæˆä¸€ä¸ªè½»é‡çº§çš„ Reduxï¼›([easy-peasy](https://github.com/ctrlplusb/easy-peasy))
	
	- `useCallback`: ç¼“å­˜å›è°ƒå‡½æ•°ï¼Œé¿å…ä¼ å…¥çš„å›è°ƒæ¯æ¬¡éƒ½æ˜¯æ–°çš„å‡½æ•°å®ä¾‹è€Œå¯¼è‡´ä¾èµ–ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå…·æœ‰æ€§èƒ½ä¼˜åŒ–çš„æ•ˆæœï¼›
	- `useMemo`: ç”¨äºç¼“å­˜ä¼ å…¥çš„ propsï¼Œé¿å…ä¾èµ–çš„ç»„ä»¶æ¯æ¬¡éƒ½é‡æ–°æ¸²æŸ“ï¼›
	- `useRef`: è·å–ç»„ä»¶çš„çœŸå®èŠ‚ç‚¹ï¼›
	- `useLayoutEffect`: 
		- DOMæ›´æ–°åŒæ­¥é’©å­ã€‚ç”¨æ³•ä¸`useEffect`ç±»ä¼¼ï¼Œåªæ˜¯åŒºåˆ«äºæ‰§è¡Œæ—¶é—´ç‚¹çš„ä¸åŒã€‚
		- `useEffect`å±äºå¼‚æ­¥æ‰§è¡Œï¼Œå¹¶ä¸ä¼šç­‰å¾… DOM çœŸæ­£æ¸²æŸ“åæ‰§è¡Œï¼Œè€Œ`useLayoutEffect`åˆ™ä¼šçœŸæ­£æ¸²æŸ“åæ‰è§¦å‘ï¼›
		- å¯ä»¥è·å–æ›´æ–°åçš„ stateï¼›
	
- **è‡ªå®šä¹‰é’©å­**(`useXxxxx`): åŸºäº Hooks å¯ä»¥å¼•ç”¨å…¶å®ƒ Hooks è¿™ä¸ªç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™è‡ªå®šä¹‰é’©å­ï¼Œå¦‚ä¸Šé¢çš„`useMounted`ã€‚åˆä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æ¯ä¸ªé¡µé¢è‡ªå®šä¹‰æ ‡é¢˜:

```js
function useTitle(title) {
  useEffect(
    () => {
      document.title = title;
    });
}

// ä½¿ç”¨:
function Home() {
	const title = 'æˆ‘æ˜¯é¦–é¡µ'
	useTitle(title)
	
	return (
		<div>{title}</div>
	)
}
```

<h3 id="7">7. SSR</h3>

SSRï¼Œä¿—ç§° **æœåŠ¡ç«¯æ¸²æŸ“** (Server Side Render)ï¼Œè®²äººè¯å°±æ˜¯: ç›´æ¥åœ¨æœåŠ¡ç«¯å±‚è·å–æ•°æ®ï¼Œæ¸²æŸ“å‡ºå®Œæˆçš„ HTML æ–‡ä»¶ï¼Œç›´æ¥è¿”å›ç»™ç”¨æˆ·æµè§ˆå™¨è®¿é—®ã€‚

- **å‰åç«¯åˆ†ç¦»**: å‰ç«¯ä¸æœåŠ¡ç«¯éš”ç¦»ï¼Œå‰ç«¯åŠ¨æ€è·å–æ•°æ®ï¼Œæ¸²æŸ“é¡µé¢ã€‚

- **ç—›ç‚¹**: 

	- **é¦–å±æ¸²æŸ“æ€§èƒ½ç“¶é¢ˆ**: 
		- ç©ºç™½å»¶è¿Ÿ: HTMLä¸‹è½½æ—¶é—´ + JSä¸‹è½½/æ‰§è¡Œæ—¶é—´ + è¯·æ±‚æ—¶é—´ + æ¸²æŸ“æ—¶é—´ã€‚åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œé¡µé¢å¤„äºç©ºç™½çš„çŠ¶æ€ã€‚
	
	- **SEO é—®é¢˜**: ç”±äºé¡µé¢åˆå§‹çŠ¶æ€ä¸ºç©ºï¼Œå› æ­¤çˆ¬è™«æ— æ³•è·å–é¡µé¢ä¸­ä»»ä½•æœ‰æ•ˆæ•°æ®ï¼Œå› æ­¤å¯¹æœç´¢å¼•æ“ä¸å‹å¥½ã€‚
		- è™½ç„¶ä¸€ç›´æœ‰åœ¨æåŠ¨æ€æ¸²æŸ“çˆ¬è™«çš„æŠ€æœ¯ï¼Œä¸è¿‡æ®æˆ‘äº†è§£ï¼Œå¤§éƒ¨åˆ†å›½å†…æœç´¢å¼•æ“ä»ç„¶æ˜¯æ²¡æœ‰å®ç°ã€‚

æœ€åˆçš„æœåŠ¡ç«¯æ¸²æŸ“ï¼Œä¾¿æ²¡æœ‰è¿™äº›é—®é¢˜ã€‚ä½†æˆ‘ä»¬ä¸èƒ½è¿”ç’å½’çœŸï¼Œæ—¢è¦ä¿è¯ç°æœ‰çš„å‰ç«¯ç‹¬ç«‹çš„å¼€å‘æ¨¡å¼ï¼Œåˆè¦ç”±æœåŠ¡ç«¯æ¸²æŸ“ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨ React SSRã€‚

- **åŸç†**: 
	- Node æœåŠ¡: è®©å‰åç«¯è¿è¡ŒåŒä¸€å¥—ä»£ç æˆä¸ºå¯èƒ½ã€‚
	- Virtual Dom: è®©å‰ç«¯ä»£ç è„±ç¦»æµè§ˆå™¨è¿è¡Œã€‚
	
- **æ¡ä»¶**: Node ä¸­é—´å±‚ã€ React / Vue ç­‰æ¡†æ¶ã€‚ ç»“æ„å¤§æ¦‚å¦‚ä¸‹:

<img width="600" src="./images/interview/9.png">

- **å¼€å‘æµç¨‹**: (æ­¤å¤„ä»¥ React + Router + Redux + Koa ä¸ºä¾‹)

	- 1ã€åœ¨åŒä¸ªé¡¹ç›®ä¸­ï¼Œ**æ­å»º** å‰åç«¯éƒ¨åˆ†ï¼Œå¸¸è§„ç»“æ„:
		- build
		- public
		- src
			- client
			- server 
			
	- 2ã€server ä¸­ä½¿ç”¨ Koa **è·¯ç”±ç›‘å¬** é¡µé¢è®¿é—®: 

	```js
	import * as Router from 'koa-router'
	
	const router = new Router()
	// å¦‚æœä¸­é—´ä¹Ÿæä¾› Api å±‚
	router.use('/api/home', async () => {
		// è¿”å›æ•°æ®
	})
	
	router.get('*', async (ctx) => {
		// è¿”å› HTML
	})
	```
	
	- 3ã€é€šè¿‡è®¿é—® url **åŒ¹é…** å‰ç«¯é¡µé¢è·¯ç”±:

	```js
	// å‰ç«¯é¡µé¢è·¯ç”±
	import { pages } from '../../client/app'
	import { matchPath } from 'react-router-dom'
	
	// ä½¿ç”¨ react-router åº“æä¾›çš„ä¸€ä¸ªåŒ¹é…æ–¹æ³•
	const matchPage = matchPath(ctx.req.url, page)
	```
	
	- 4ã€é€šè¿‡é¡µé¢è·¯ç”±çš„é…ç½®è¿›è¡Œ **æ•°æ®è·å–**ã€‚é€šå¸¸å¯ä»¥åœ¨é¡µé¢è·¯ç”±ä¸­å¢åŠ  SSR ç›¸å…³çš„é™æ€é…ç½®ï¼Œç”¨äºæŠ½è±¡é€»è¾‘ï¼Œå¯ä»¥ä¿è¯æœåŠ¡ç«¯é€»è¾‘çš„é€šç”¨æ€§ï¼Œå¦‚:

		```js
		class HomePage extends React.Component{
			public static ssrConfig = {
				  cache: true,
		         fetch() {
		        	  // è¯·æ±‚è·å–æ•°æ®
		         }
		    }
		}
		```
		
		è·å–æ•°æ®é€šå¸¸æœ‰ä¸¤ç§æƒ…å†µ:
		
		- ä¸­é—´å±‚ä¹Ÿä½¿ç”¨ **http** è·å–æ•°æ®ï¼Œåˆ™æ­¤æ—¶ fetch æ–¹æ³•å¯å‰åç«¯å…±äº«ï¼›

		```js
		const data = await matchPage.ssrConfig.fetch()
		```
		
		- ä¸­é—´å±‚å¹¶ä¸ä½¿ç”¨ httpï¼Œæ˜¯é€šè¿‡ä¸€äº› **å†…éƒ¨è°ƒç”¨**ï¼Œä¾‹å¦‚ Rpc æˆ– ç›´æ¥è¯»æ•°æ®åº“ ç­‰ï¼Œæ­¤æ—¶ä¹Ÿå¯ä»¥ç›´æ¥ç”±æœåŠ¡ç«¯è°ƒç”¨å¯¹åº”çš„æ–¹æ³•è·å–æ•°æ®ã€‚é€šå¸¸ï¼Œè¿™é‡Œéœ€è¦åœ¨ ssrConfig ä¸­é…ç½®ç‰¹å¼‚æ€§çš„ä¿¡æ¯ï¼Œç”¨äºåŒ¹é…å¯¹åº”çš„æ•°æ®è·å–æ–¹æ³•ã€‚

		```js
		// é¡µé¢è·¯ç”±
		class HomePage extends React.Component{
			public static ssrConfig = {
		        fetch: {
		        	 url: '/api/home',
		        }
		    }
		}
		
		// æ ¹æ®è§„åˆ™åŒ¹é…å‡ºå¯¹åº”çš„æ•°æ®è·å–æ–¹æ³•
		// è¿™é‡Œçš„è§„åˆ™å¯ä»¥è‡ªç”±ï¼Œåªè¦èƒ½åŒ¹é…å‡ºæ­£ç¡®çš„æ–¹æ³•å³å¯
		const controller = matchController(ssrConfig.fetch.url)
		
		// è·å–æ•°æ®
		const data = await controller(ctx)
		``` 

	- 5ã€åˆ›å»º Redux storeï¼Œå¹¶å°†æ•°æ®`dispatch`åˆ°é‡Œé¢:

	```js
	import { createStore } from 'redux'
	// è·å– Clinetå±‚ reducer
	// å¿…é¡»å¤ç”¨å‰ç«¯å±‚çš„é€»è¾‘ï¼Œæ‰èƒ½ä¿è¯ä¸€è‡´æ€§ï¼›
	import { reducers } from '../../client/store'
	
	// åˆ›å»º store
	const store = createStore(reducers)
	 
	// è·å–é…ç½®å¥½çš„ Action
	const action = ssrConfig.action

	// å­˜å‚¨æ•°æ®	
	store.dispatch(createAction(action)(data))
	```
	
	- 6ã€æ³¨å…¥ Storeï¼Œ è°ƒç”¨`renderToString`å°† React Virtual Dom æ¸²æŸ“æˆ **å­—ç¬¦ä¸²**: 
	
	```js
	import * as ReactDOMServer from 'react-dom/server'
	import { Provider } from 'react-redux'
	
	// è·å– Clinet å±‚æ ¹ç»„ä»¶
	import { App } from '../../client/app'
	
	const AppString = ReactDOMServer.renderToString(
		<Provider store={store}>
			<StaticRouter
				location={ctx.req.url}
				context={{}}>
				<App />
			</StaticRouter>
		</Provider>
	)
	```
	
	- 7ã€å°† AppString åŒ…è£…æˆå®Œæ•´çš„ html æ–‡ä»¶æ ¼å¼ï¼›
	
	- 8ã€æ­¤æ—¶ï¼Œå·²ç»èƒ½ç”Ÿæˆå®Œæ•´çš„ HTML æ–‡ä»¶ã€‚ä½†åªæ˜¯ä¸ªçº¯é™æ€çš„é¡µé¢ï¼Œæ²¡æœ‰æ ·å¼æ²¡æœ‰äº¤äº’ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ˜¯è¦æ’å…¥ JS ä¸ CSSã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¿é—®å‰ç«¯æ‰“åŒ…åç”Ÿæˆçš„`asset-manifest.json`æ–‡ä»¶æ¥è·å–ç›¸åº”çš„æ–‡ä»¶è·¯å¾„ï¼Œå¹¶åŒæ ·æ³¨å…¥åˆ° Html ä¸­å¼•ç”¨ã€‚

	```js
	const html = `
		<!DOCTYPE html>
		<html lang="zh">
			<head></head>
			<link href="${cssPath}" rel="stylesheet" />
			<body>
				<div id="App">${AppString}</div>
				<script src="${scriptPath}"></script>
			</body>
		</html>
	`
	```

	- 9ã€è¿›è¡Œ **æ•°æ®è„±æ°´**: ä¸ºäº†æŠŠæœåŠ¡ç«¯è·å–çš„æ•°æ®åŒæ­¥åˆ°å‰ç«¯ã€‚ä¸»è¦æ˜¯å°†æ•°æ®åºåˆ—åŒ–åï¼Œæ’å…¥åˆ° html ä¸­ï¼Œè¿”å›ç»™å‰ç«¯ã€‚

	```js
	import serialize from 'serialize-javascript'
	// è·å–æ•°æ®
	const initState = store.getState()
	const html = `
		<!DOCTYPE html>
		<html lang="zh">
			<head></head>
			<body>
				<div id="App"></div>
				<script type="application/json" id="SSR_HYDRATED_DATA">${serialize(initState)}</script>
			</body>
		</html>
	`
	
	ctx.status = 200
	ctx.body = html
	```
	
	> **Tips**:
	>
	> è¿™é‡Œæ¯”è¾ƒç‰¹åˆ«çš„æœ‰ä¸¤ç‚¹:
	>
	> 1. ä½¿ç”¨äº†`serialize-javascript`åºåˆ—åŒ– storeï¼Œ æ›¿ä»£äº†`JSON.stringify`ï¼Œä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œé¿å…ä»£ç æ³¨å…¥å’Œ XSS æ”»å‡»ï¼›
	>
	> 2. ä½¿ç”¨ json è¿›è¡Œä¼ è¾“ï¼Œå¯ä»¥è·å¾—æ›´å¿«çš„åŠ è½½é€Ÿåº¦ï¼›
	
	- 10ã€Client å±‚ **æ•°æ®å¸æ°´**: åˆå§‹åŒ– store æ—¶ï¼Œä»¥è„±æ°´åçš„æ•°æ®ä¸ºåˆå§‹åŒ–æ•°æ®ï¼ŒåŒæ­¥åˆ›å»º storeã€‚

	```js
	const hydratedEl = document.getElementById('SSR_HYDRATED_DATA')
	const hydrateData = JSON.parse(hydratedEl.textContent)
	
	// ä½¿ç”¨åˆå§‹ state åˆ›å»º Redux store
	const store = createStore(reducer, hydrateData)
	```

<h3 id="8">8. å‡½æ•°å¼ç¼–ç¨‹</h3>

å‡½æ•°å¼ç¼–ç¨‹æ˜¯ä¸€ç§ **ç¼–ç¨‹èŒƒå¼**ï¼Œä½ å¯ä»¥ç†è§£ä¸ºä¸€ç§è½¯ä»¶æ¶æ„çš„æ€ç»´æ¨¡å¼ã€‚å®ƒæœ‰ç€ç‹¬ç«‹ä¸€å¥—ç†è®ºåŸºç¡€ä¸è¾¹ç•Œæ³•åˆ™ï¼Œè¿½æ±‚çš„æ˜¯ **æ›´ç®€æ´ã€å¯é¢„æµ‹ã€é«˜å¤ç”¨ã€æ˜“æµ‹è¯•**ã€‚å…¶å®åœ¨ç°æœ‰çš„ä¼—å¤šçŸ¥ååº“ä¸­ï¼Œéƒ½è•´å«ç€ä¸°å¯Œçš„å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³ï¼Œå¦‚ React / Redux ç­‰ã€‚

- **å¸¸è§çš„ç¼–ç¨‹èŒƒå¼**:
	- å‘½ä»¤å¼ç¼–ç¨‹(è¿‡ç¨‹åŒ–ç¼–ç¨‹): æ›´å…³å¿ƒè§£å†³é—®é¢˜çš„æ­¥éª¤ï¼Œä¸€æ­¥æ­¥ä»¥è¯­è¨€çš„å½¢å¼å‘Šè¯‰è®¡ç®—æœºåšä»€ä¹ˆï¼›
	- äº‹ä»¶é©±åŠ¨ç¼–ç¨‹: äº‹ä»¶è®¢é˜…ä¸è§¦å‘ï¼Œè¢«å¹¿æ³›ç”¨äº GUI çš„ç¼–ç¨‹è®¾è®¡ä¸­ï¼›
	- é¢å‘å¯¹è±¡ç¼–ç¨‹: åŸºäºç±»ã€å¯¹è±¡ä¸æ–¹æ³•çš„è®¾è®¡æ¨¡å¼ï¼Œæ‹¥æœ‰ä¸‰ä¸ªåŸºç¡€æ¦‚å¿µ: å°è£…æ€§ã€ç»§æ‰¿æ€§ã€å¤šæ€æ€§ï¼›
	- å‡½æ•°å¼ç¼–ç¨‹
		- æ¢æˆä¸€ç§æ›´é«˜ç«¯çš„è¯´æ³•ï¼Œé¢å‘æ•°å­¦ç¼–ç¨‹ã€‚æ€•ä¸æ€•~ğŸ¥´

- **å‡½æ•°å¼ç¼–ç¨‹çš„ç†å¿µ**:
	- **çº¯å‡½æ•°**(ç¡®å®šæ€§å‡½æ•°): æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„åŸºç¡€ï¼Œå¯ä»¥ä½¿ç¨‹åºå˜å¾—çµæ´»ï¼Œé«˜åº¦å¯æ‹“å±•ï¼Œå¯ç»´æŠ¤ï¼›
		- **ä¼˜åŠ¿**:
			- å®Œå…¨ç‹¬ç«‹ï¼Œä¸å¤–éƒ¨è§£è€¦ï¼›
			- é«˜åº¦å¯å¤ç”¨ï¼Œåœ¨ä»»æ„ä¸Šä¸‹æ–‡ï¼Œä»»æ„æ—¶é—´çº¿ä¸Šï¼Œéƒ½å¯æ‰§è¡Œå¹¶ä¸”ä¿è¯ç»“æœç¨³å®šï¼›
			- å¯æµ‹è¯•æ€§æå¼ºï¼›
			
		- **æ¡ä»¶**:  
			- ä¸ä¿®æ”¹å‚æ•°ï¼›
			- ä¸ä¾èµ–ã€ä¸ä¿®æ”¹ä»»ä½•å‡½æ•°å¤–éƒ¨çš„æ•°æ®ï¼›
			- å®Œå…¨å¯æ§ï¼Œå‚æ•°ä¸€æ ·ï¼Œè¿”å›å€¼ä¸€å®šä¸€æ ·: ä¾‹å¦‚å‡½æ•°ä¸èƒ½åŒ…å«`new Date()`æˆ–è€…`Math.randon()`ç­‰è¿™ç§ä¸å¯æ§å› ç´ ï¼›
			- å¼•ç”¨é€æ˜ï¼›

		- æˆ‘ä»¬å¸¸ç”¨åˆ°çš„è®¸å¤š API æˆ–è€…å·¥å…·å‡½æ•°ï¼Œå®ƒä»¬éƒ½å…·æœ‰ç€çº¯å‡½æ•°çš„ç‰¹ç‚¹ï¼Œ å¦‚`split / join / map`ï¼›
		
	- **å‡½æ•°å¤åˆ**: å°†å¤šä¸ªå‡½æ•°è¿›è¡Œç»„åˆåè°ƒç”¨ï¼Œå¯ä»¥å®ç°å°†ä¸€ä¸ªä¸ªå‡½æ•°å•å…ƒè¿›è¡Œç»„åˆï¼Œè¾¾æˆæœ€åçš„ç›®æ ‡ï¼›
		- **æ‰å¹³åŒ–åµŒå¥—**: é¦–å…ˆï¼Œæˆ‘ä»¬ä¸€å®šèƒ½æƒ³åˆ°ç»„åˆå‡½æ•°æœ€ç®€å•çš„æ“ä½œå°±æ˜¯ åŒ…è£¹ï¼Œå› ä¸ºåœ¨ JS ä¸­ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥å½“åšå‚æ•°:
			- `f(g(k(x)))`: åµŒå¥—åœ°ç‹±ï¼Œå¯è¯»æ€§ä½ï¼Œå½“å‡½æ•°å¤æ‚åï¼Œå®¹æ˜“è®©äººä¸€è„¸æ‡µé€¼ï¼›
			- ç†æƒ³çš„åšæ³•: `xxx(f, g, k)(x)`
		- **ç»“æœä¼ é€’**: å¦‚æœæƒ³å®ç°ä¸Šé¢çš„æ–¹å¼ï¼Œé‚£ä¹Ÿå°±æ˜¯`xxx`å‡½æ•°è¦å®ç°çš„ä¾¿æ˜¯: æ‰§è¡Œç»“æœåœ¨å„ä¸ªå‡½æ•°ä¹‹é—´çš„æ‰§è¡Œä¼ é€’ï¼›
			- è¿™æ—¶æˆ‘ä»¬å°±èƒ½æƒ³åˆ°ä¸€ä¸ªåŸç”Ÿæä¾›çš„æ•°ç»„æ–¹æ³•: `reduce`ï¼Œå®ƒå¯ä»¥æŒ‰æ•°ç»„çš„é¡ºåºä¾æ¬¡æ‰§è¡Œï¼Œä¼ é€’æ‰§è¡Œç»“æœï¼›
			- æ‰€ä»¥æˆ‘ä»¬å°±èƒ½å¤Ÿå®ç°ä¸€ä¸ªæ–¹æ³•`pipe`ï¼Œç”¨äºå‡½æ•°ç»„åˆ:
			
			```js
			// ...fs: å°†å‡½æ•°ç»„åˆæˆæ•°ç»„ï¼›
			// Array.prototype.reduce è¿›è¡Œç»„åˆï¼›
			// p: åˆå§‹å‚æ•°ï¼›
			const pipe = (...fs) => p => fs.reduce((v, f) => f(v), p)
			```
		
		- **ä½¿ç”¨**: å®ç°ä¸€ä¸ª é©¼å³°å‘½å è½¬ ä¸­åˆ’çº¿å‘½å çš„åŠŸèƒ½:
	
		```js
		// 'Guo DongDong' --> 'guo-dongdong'
		// å‡½æ•°ç»„åˆå¼å†™æ³•
		const toLowerCase = str => str.toLowerCase()
		const join = curry((str, arr) => arr.join(str))
		const split = curry((splitOn, str) => str.split(splitOn));
		
		const toSlug = pipe(
			toLowerCase,	
			split(' '),
			join('_'),
			encodeURIComponent,
	    );
	    console.log(toSlug('Guo DongDong'))
		```
		
		- **å¥½å¤„**:
			- éšè—ä¸­é—´å‚æ•°ï¼Œä¸éœ€è¦ä¸´æ—¶å˜é‡ï¼Œé¿å…äº†è¿™ä¸ªç¯èŠ‚çš„å‡ºé”™å‡ ç‡ï¼›
			- åªéœ€å…³æ³¨æ¯ä¸ªçº¯å‡½æ•°å•å…ƒçš„ç¨³å®šï¼Œä¸å†éœ€è¦å…³æ³¨å‘½åï¼Œä¼ é€’ï¼Œè°ƒç”¨ç­‰ï¼›
			- å¯å¤ç”¨æ€§å¼ºï¼Œä»»ä½•ä¸€ä¸ªå‡½æ•°å•å…ƒéƒ½å¯è¢«ä»»æ„å¤ç”¨å’Œç»„åˆï¼›
			- å¯æ‹“å±•æ€§å¼ºï¼Œæˆæœ¬ä½ï¼Œä¾‹å¦‚ç°åœ¨åŠ ä¸ªéœ€æ±‚ï¼Œè¦æŸ¥çœ‹æ¯ä¸ªç¯èŠ‚çš„è¾“å‡º:
			
			```js
			const log = curry((label, x) => {
				console.log(`${ label }: ${ x }`);
				return x;
			});
			
			const toSlug = pipe(
				toLowerCase,	
				log('toLowerCase output'),
				split(' '),
				log('split output'),
				join('_'),
				log('join output'),
				encodeURIComponent,
			);
			```
		
		> Tips:
		>
		> ä¸€äº›å·¥å…·çº¯å‡½æ•°å¯ç›´æ¥å¼•ç”¨`lodash/fp`ï¼Œä¾‹å¦‚`curry/map/split`ç­‰ï¼Œå¹¶ä¸éœ€è¦åƒæˆ‘ä»¬ä¸Šé¢è¿™æ ·è‡ªå·±å®ç°ï¼›
	
	- **æ•°æ®ä¸å¯å˜æ€§**(immutable): è¿™æ˜¯ä¸€ç§æ•°æ®ç†å¿µï¼Œä¹Ÿæ˜¯å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„æ ¸å¿ƒç†å¿µä¹‹ä¸€:
		- **å€¡å¯¼**: ä¸€ä¸ªå¯¹è±¡å†è¢«åˆ›å»ºåä¾¿ä¸ä¼šå†è¢«ä¿®æ”¹ã€‚å½“éœ€è¦æ”¹å˜å€¼æ—¶ï¼Œæ˜¯è¿”å›ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨åŸå¯¹è±¡ä¸Šä¿®æ”¹ï¼›
		- **ç›®çš„**: ä¿è¯æ•°æ®çš„ç¨³å®šæ€§ã€‚é¿å…ä¾èµ–çš„æ•°æ®è¢«æœªçŸ¥åœ°ä¿®æ”¹ï¼Œå¯¼è‡´äº†è‡ªèº«çš„æ‰§è¡Œå¼‚å¸¸ï¼Œèƒ½æœ‰æ•ˆæé«˜å¯æ§æ€§ä¸ç¨³å®šæ€§ï¼›
		- å¹¶ä¸ç­‰åŒäº`const`ã€‚ä½¿ç”¨`const`åˆ›å»ºä¸€ä¸ªå¯¹è±¡åï¼Œå®ƒçš„å±æ€§ä»ç„¶å¯ä»¥è¢«ä¿®æ”¹ï¼›
		- æ›´ç±»ä¼¼äº`Object.freeze`: å†»ç»“å¯¹è±¡ï¼Œä½†`freeze`ä»æ— æ³•ä¿è¯æ·±å±‚çš„å±æ€§ä¸è¢«ä¸²æ”¹ï¼›
		- `immutable.js`: js ä¸­çš„æ•°æ®ä¸å¯å˜åº“ï¼Œå®ƒä¿è¯äº†æ•°æ®ä¸å¯å˜ï¼Œåœ¨ React ç”Ÿæ€ä¸­è¢«å¹¿æ³›åº”ç”¨ï¼Œå¤§å¤§æå‡äº†æ€§èƒ½ä¸ç¨³å®šæ€§ï¼›
			- `trie`æ•°æ®ç»“æ„: 
				- ä¸€ç§æ•°æ®ç»“æ„ï¼Œèƒ½æœ‰æ•ˆåœ°æ·±åº¦å†»ç»“å¯¹è±¡ï¼Œä¿è¯å…¶ä¸å¯å˜ï¼›
				- **ç»“æ„å…±äº«**: å¯ä»¥å…±ç”¨ä¸å¯å˜å¯¹è±¡çš„å†…å­˜å¼•ç”¨åœ°å€ï¼Œå‡å°‘å†…å­˜å ç”¨ï¼Œæé«˜æ•°æ®æ“ä½œæ€§èƒ½ï¼›
		
	- é¿å…ä¸åŒå‡½æ•°ä¹‹é—´çš„ **çŠ¶æ€å…±äº«**ï¼Œæ•°æ®çš„ä¼ é€’ä½¿ç”¨å¤åˆ¶æˆ–å…¨æ–°å¯¹è±¡ï¼Œéµå®ˆæ•°æ®ä¸å¯å˜åŸåˆ™ï¼›
	- é¿å…ä»å‡½æ•°å†…éƒ¨ **æ”¹å˜å¤–éƒ¨çŠ¶æ€**ï¼Œä¾‹å¦‚æ”¹å˜äº†å…¨å±€ä½œç”¨åŸŸæˆ–çˆ¶çº§ä½œç”¨åŸŸä¸Šçš„å˜é‡å€¼ï¼Œå¯èƒ½ä¼šå¯¼è‡´å…¶å®ƒå•ä½é”™è¯¯ï¼›
	- é¿å…åœ¨å•å…ƒå‡½æ•°å†…éƒ¨æ‰§è¡Œä¸€äº› **å‰¯ä½œç”¨**ï¼Œåº”è¯¥å°†è¿™äº›æ“ä½œæŠ½ç¦»æˆæ›´ç‹¬ç«‹çš„å·¥å…·å•å…ƒï¼›
		- æ—¥å¿—è¾“å‡º
		- è¯»å†™æ–‡ä»¶
		- ç½‘ç»œè¯·æ±‚
		- è°ƒç”¨å¤–éƒ¨è¿›ç¨‹
		- è°ƒç”¨æœ‰å‰¯ä½œç”¨çš„å‡½æ•° 
	
- **é«˜é˜¶å‡½æ•°**: æ˜¯æŒ‡ ä»¥å‡½æ•°ä¸ºå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å¢å¼ºå‡½æ•° çš„ä¸€ç±»å‡½æ•°ï¼Œå®ƒé€šå¸¸ç”¨äº:
	- å°†é€»è¾‘è¡Œä¸ºè¿›è¡Œ **éš”ç¦»æŠ½è±¡**ï¼Œä¾¿äºå¿«é€Ÿå¤ç”¨ï¼Œå¦‚å¤„ç†æ•°æ®ï¼Œå…¼å®¹æ€§ç­‰ï¼›
	- **å‡½æ•°ç»„åˆ**ï¼Œå°†ä¸€ç³»åˆ—å•å…ƒå‡½æ•°åˆ—è¡¨ç»„åˆæˆåŠŸèƒ½æ›´å¼ºå¤§çš„å‡½æ•°ï¼›
	- **å‡½æ•°å¢å¼º**ï¼Œå¿«é€Ÿåœ°æ‹“å±•å‡½æ•°åŠŸèƒ½ï¼Œ

- **å‡½æ•°å¼ç¼–ç¨‹çš„å¥½å¤„**:
	- å‡½æ•°å‰¯ä½œç”¨å°ï¼Œæ‰€æœ‰å‡½æ•°ç‹¬ç«‹å­˜åœ¨ï¼Œæ²¡æœ‰ä»»ä½•è€¦åˆï¼Œå¤ç”¨æ€§æé«˜ï¼›
	- ä¸å…³æ³¨æ‰§è¡Œæ—¶é—´ï¼Œæ‰§è¡Œé¡ºåºï¼Œå‚æ•°ï¼Œå‘½åç­‰ï¼Œèƒ½ä¸“æ³¨äºæ•°æ®çš„æµåŠ¨ä¸å¤„ç†ï¼Œèƒ½æœ‰æ•ˆæé«˜ç¨³å®šæ€§ä¸å¥å£®æ€§ï¼›
	- è¿½æ±‚å•å…ƒåŒ–ï¼Œç²’åº¦åŒ–ï¼Œä½¿å…¶é‡æ„å’Œæ”¹é€ æˆæœ¬é™ä½ï¼Œå¯ç»´æŠ¤ã€å¯æ‹“å±•æ€§è¾ƒå¥½ï¼›
	- æ›´æ˜“äºåšå•å…ƒæµ‹è¯•ã€‚

- **æ€»ç»“**: 
	- å‡½æ•°å¼ç¼–ç¨‹å…¶å®æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œå®ƒè¿½æ±‚æ›´ç»†çš„ç²’åº¦ï¼Œå°†åº”ç”¨æ‹†åˆ†æˆä¸€ç»„ç»„æå°çš„å•å…ƒå‡½æ•°ï¼Œç»„åˆè°ƒç”¨æ“ä½œæ•°æ®æµï¼›
	- å®ƒæå€¡ç€ çº¯å‡½æ•° / å‡½æ•°å¤åˆ / æ•°æ®ä¸å¯å˜ï¼Œ è°¨æ…å¯¹å¾…å‡½æ•°å†…çš„ çŠ¶æ€å…±äº« / ä¾èµ–å¤–éƒ¨ / å‰¯ä½œç”¨ï¼›

> Tips:
> 
> å…¶å®æˆ‘ä»¬å¾ˆéš¾ä¹Ÿä¸éœ€è¦åœ¨é¢è¯•è¿‡ç¨‹ä¸­å»å®Œç¾åœ°é˜è¿°å‡ºæ•´å¥—æ€æƒ³ï¼Œè¿™é‡Œä¹Ÿåªæ˜¯æµ…å°è¾„æ­¢ï¼Œä¸€äº›ä¸ªäººç†è§£è€Œå·²ã€‚åšä¸»ä¹Ÿæ˜¯åˆçº§å°èœé¸Ÿï¼Œåœç•™åœ¨è¡¨é¢è€Œå·²ï¼Œåªæ±‚å¯¹å¤§å®¶èƒ½æœ‰æ‰€å¸®åŠ©ï¼Œè½»å–·ğŸ¤£ï¼›
> 
> æˆ‘ä¸ªäººè§‰å¾—: è¿™äº›ç¼–ç¨‹èŒƒå¼ä¹‹é—´ï¼Œå…¶å®å¹¶ä¸çŸ›ç›¾ï¼Œå„æœ‰å„çš„ **ä¼˜åŠ£åŠ¿**ã€‚
> 
> ç†è§£å’Œå­¦ä¹ å®ƒä»¬çš„ç†å¿µä¸ä¼˜åŠ¿ï¼Œåˆç†åœ° **è®¾è®¡èåˆ**ï¼Œå°†ä¼˜ç§€çš„è½¯ä»¶ç¼–ç¨‹æ€æƒ³ç”¨äºæå‡æˆ‘ä»¬åº”ç”¨ï¼›
> 
> æ‰€æœ‰è®¾è®¡æ€æƒ³ï¼Œæœ€ç»ˆçš„ç›®æ ‡ä¸€å®šæ˜¯ä½¿æˆ‘ä»¬çš„åº”ç”¨æ›´åŠ  **è§£è€¦é¢—ç²’åŒ–ã€æ˜“æ‹“å±•ã€æ˜“æµ‹è¯•ã€é«˜å¤ç”¨ï¼Œå¼€å‘æ›´ä¸ºé«˜æ•ˆå’Œå®‰å…¨**ï¼›
> 
> æœ‰ä¸€äº›åº“èƒ½è®©å¤§å®¶å¾ˆå¿«åœ°æ¥è§¦å’Œè¿ç”¨å‡½æ•°æ€æƒ³: `Underscore.js` / `Lodash/fp` / `Rxjs` ç­‰ã€‚

## ç»“è¯­

åˆ°æ­¤ï¼Œæƒ³å¿…å¤§å®¶ä¼šå‘ç°å·²ç»å¼€å§‹æ·±å…¥ä¸€äº›ç†è®ºå’ŒåŸç†å±‚é¢äº†ï¼Œå¹¶ä¸åƒä¸Šç¯‡é‚£ä¹ˆçš„æµ…æ˜¾æ˜“æ‡‚äº†ã€‚ä½†è¿™ä¹Ÿæ˜¯ä¸ªå¿…ç»ä¹‹è·¯ï¼Œä¸å¯èƒ½æ°¸è¿œåœç•™åœ¨ **5åˆ†é’ŸæŒæ¡çš„æŠ€æœ¯** ä¸Šã€‚ä¸å†åœç•™åœ¨è¯­è¨€çš„è¡¨é¢ï¼Œè€Œæ˜¯ç†è§£æ›´æ·±å…¥çš„åŸç†ï¼Œæ¨¡å¼ï¼Œæ¶æ„ï¼Œå› æœï¼Œä½ å°±ä¼šçªç„¶å‘ç°ä½ æˆä¸ºé«˜çº§è½¯ä»¶å·¥ç¨‹å¸ˆäº†ã€‚ğŸ˜ã€‚

å¸Œæœ›å„ä½å°ä¼™ä¼´èƒ½æ²‰ä¸‹å¿ƒæ¥ï¼Œä¸€äº›ç†è®ºã€æ¦‚å¿µè™½ç„¶æ¯ç‡¥ï¼Œä½†åå¤ç¢ç£¨åå†è‡ªå·±å®è·µå°è¯•ä¸‹ï¼Œå°±èƒ½æœ‰è‡ªå·±çš„ç†è§£ã€‚

å½“ä½ å¼€å§‹é¢è¯•é«˜çº§å·¥ç¨‹å¸ˆæ—¶ï¼Œé¢è¯•å®˜ä¾¿ä¸å†é‡ç‚¹å…³æ³¨ä½ ä¼šä¸ä¼šå†™`stopPropagation`æˆ–è€…ä¼šä¸ä¼šæ°´å¹³å±…ä¸­äº†ï¼Œè€Œæ˜¯æ›´åœ¨ä¹ä½ è‡ªå·±çš„æ€è€ƒå’Œç ”ç©¶èƒ½åŠ›äº†ã€‚è¡¨ç°å‡ºè‡ªå·±æ·±å…¥ç†è§£ç ”ç©¶çš„æˆæœï¼Œå®šä¼šè®©é¢è¯•å®˜åˆ®ç›®ç›¸çœ‹ã€‚

- [é¢è¯•ä¸Šç¯‡](https://github.com/xd-tayde/blog/blob/master/interview-1.md)ã€‚
- [é¢è¯•ä¸‹ç¯‡](https://github.com/xd-tayde/blog/blob/master/interview-3.md);

> Tips: 
> 
> è”ç³»æˆ‘è¯·å‘é‚®ä»¶ 159042708@qq.com æˆ–å…³æ³¨ä¸‹é¢å…¬ä¼—å·åŠ æˆ‘å¾®ä¿¡è¯¦èŠå“ˆã€‚
> 
> åšä¸»çœŸçš„å†™å¾—å¾ˆè¾›è‹¦ï¼Œå†ä¸ star ä¸‹ï¼ŒçœŸçš„è¦å“­äº†ã€‚~ [github](https://github.com/xd-tayde/blog/blob/master/interview-2.md)ã€‚ğŸ¤‘

<img width="750" src="./images/qrcode.jpg">